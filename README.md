# Library Manager

![.NET Version](https://img.shields.io/badge/.NET-8.0-purple)
![License](https://img.shields.io/badge/License-MIT-green)
[![OpenLibrary API](https://img.shields.io/badge/API-OpenLibrary-blue)](https://openlibrary.org)

Консольное приложение для управления личной библиотекой книг с расширенными функциями и интерактивным интерфейсом.
Четвертый и последний проект по курсу C# на ПИ ФКН.
Для ассистента: Трек B-side с основной и доп задачей.

## Основные возможности

### Управление книгами
- Полноценный CRUD (Создание, Чтение, Обновление, Удаление)
- Валидация ISBN 10/13 с проверкой контрольной суммы
- Поддержка жанров: Фантастика, Детектив, Роман, История, Научная литература и другие

### Визуализация
- Интерактивные таблицы с сортировкой и фильтрацией
- Календарь изданий с тепловой картой активности
- Отображение обложек книг в терминале

### Рекомендательная система
- Персональные рекомендации на основе оценок
- Топ книг по рейтингу
- Умный подбор по любимым жанрам

### Импорт/Экспорт
- Поддержка форматов JSON и CSV
- Пакетное добавление книг
- Резервное копирование данных

### Интеграции
- Автоматическое заполнение данных через OpenLibrary API
- Загрузка обложек из интернета
- Проверка актуальности информации

## Технологии

### Основные компоненты
- **Spectre.Console** — создание интерактивных консольных интерфейсов
- **Refit** — работа с REST API (OpenLibrary)
- **Newtonsoft.Json** — сериализация и десериализация данных
- **CsvHelper** — работа с CSV-файлами

### Дополнительные инструменты
- **Polly** — обработка ошибок и повторные запросы
- **SkiaSharp** — работа с изображениями
- **Nito.AsyncEx** — асинхронные операции

P.S. все запросы к API написаны с async

## Быстрый старт

### Требования
- .NET 8.0 SDK
- Доступ в интернет (для работы с OpenLibrary)

### Установка
```bash
git clone https://github.com/NLarinov/HSEcsharpFinal.git
cd LibraryManager
dotnet restore
dotnet run
```

## Примеры использования

### Добавление книги
```bash
> Выберите действие: Добавить книгу
> Введите название: 1984
> Автор: Джордж Оруэлл
> Год издания: 1949
> ISBN: 9785998500695
Книга успешно добавлена!
```

### Поиск через OpenLibrary
```bash
> Выберите действие: Поиск в OpenLibrary
> Введите ISBN: 9785998500695
Обложка успешно загружена!
Книга добавлена из OpenLibrary!
╭─Мастер и Маргарита─────────────────╮
│ Автор: Михаил Афанасьевич Булгаков │
│ Жанр: Фантастика                   │
│ Год издания: 2009                  │
│ ISBN: 9785998500695                │
│ Рейтинг: 4,0                       │
╰────────────────────────────────────╯
```

или

```bash
> Выберите действие: Поиск в OpenLibrary
> Введите ISBN: 9785001959786
Обложка успешно загружена!
Книга добавлена из OpenLibrary!
╭─Евгений Онегин─────────────╮
│ Автор: Александр С. Пушкин │
│ Жанр: Не указан            │
│ Год издания: 2023          │
│ ISBN: 9785001959786        │
│ Рейтинг: 3,0               │
╰────────────────────────────╯
```

### Экспорт данных
```bash
> Выберите действие: Экспорт данных
> Введите путь: books.csv
Успешно экспортировано!
```

## Формат хранения данных

### Пример JSON-файла
```json
[
  {
    "Title": "Мастер и Маргарита",
    "Author": "Михаил Булгаков",
    "Genre": 2,
    "PublicationYear": 1967,
    "ISBN": "9785998500695",
    "rating": 9.8,
    "CoverPath": "covers/9785170875468.jpg",
    "lastReadDate": null
  },
  {
    "Title": "1984",
    "Author": "Джордж Оруэлл",
    "Genre": 0,
    "PublicationYear": 1949,
    "ISBN": "9785998500695",
    "rating": 9.5,
    "CoverPath": "covers/9785170918950.jpg",
    "lastReadDate": null
  }
]
```

### Поддерживаемые форматы
- JSON (основной)
- CSV (импорт/экспорт)

## Лицензия

Распространяется под лицензией MIT.

---
